{% extends "layout.html" %} {% block content %}
<div class="container">
  <h2>{{ recipe.title }}</h2>
<<<<<<< HEAD
  <img
    src="{{ recipe.image }}"
    alt="{{ recipe.title }}"
    class="img-fluid mb-3"
  />
  <p><strong>Cook time:</strong> {{ recipe.readyInMinutes }} min</p>
  <p><strong>Difficulty:</strong> {{ recipe.difficulty or 'N/A' }}</p>
  <h4>Ingredients</h4>
=======
  {% if recipe.image %}
  <img
    src="{{ recipe.image }}"
    alt="{{ recipe.title }}"
    style="max-width: 300px"
  />
  {% endif %} {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="flash-messages mt-3">
    {% for category, message in messages %}
    <p class="flash-message {{ category }}">{{ message }}</p>
    {% endfor %}
  </div>
  {% endif %} {% endwith %}

  <form
    method="post"
    action="{{ url_for('save_recipe', recipe_id=recipe.id) }}"
  >
    {{ form.hidden_tag() }}
    <button type="submit" class="btn btn-success">
      <i class="fa fa-bookmark"></i> Save Recipe
    </button>
  </form>

  <h3>Ingredients</h3>
>>>>>>> f017e3d (sprint 0.2 completed)
  <ul>
    {% for ingredient in recipe.extendedIngredients %}
    <li>{{ ingredient.original }}</li>
    {% endfor %}
  </ul>
<<<<<<< HEAD
  <h4>Instructions</h4>
  <div>{{ recipe.instructions | safe }}</div>
  <a href="{{ url_for('recipes') }}" class="btn btn-secondary mt-3"
    >Back to Suggestions</a
  >
</div>
{% endblock %}
=======

  <h3>Instructions</h3>
  {% if recipe.instructions %}
  <div>{{ recipe.instructions | safe }}</div>
  {% else %}
  <p>No instructions available.</p>
  {% endif %} {% if recipe.readyInMinutes %}
  <p><strong>Ready in:</strong> {{ recipe.readyInMinutes }} minutes</p>
  {% endif %} {% if recipe.servings %}
  <p><strong>Servings:</strong> {{ recipe.servings }}</p>
  {% endif %}

  <h3>Reviews</h3>
  {% if reviews %}
  <ul>
    {% for r in reviews %}
    <li>
      <strong>{{ r.username }}</strong> ({{ r.rating }}/5): {{ r.review }}
      <br /><small>{{ r.created_at }}</small>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No reviews yet.</p>
  {% endif %} {% set review_usernames = reviews | map(attribute='username') |
  list %} {% if session.username == recipe.owner or session.username in
  review_usernames %}
  <!-- Only allow review if user hasn't already reviewed -->
  {% else %}
  <form method="post">
    {{ review_form.hidden_tag() }} {{ review_form.review.label }}<br />
    {{ review_form.review(size=40) }}<br />
    {{ review_form.rating.label }}<br />
    {{ review_form.rating(min=1, max=5) }}<br />
    {{ review_form.submit() }}
  </form>
  {% endif %}

  <a href="{{ url_for('recipes') }}" class="btn btn-primary">
    Back to Suggestions
  </a>
</div>
{% endblock %}{
>>>>>>> f017e3d (sprint 0.2 completed)
